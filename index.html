<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Al-Medina Pharmacy - Your Community Health Partner</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom styles for the reviews carousel on mobile */
        .carousel-container {
            overflow: hidden;
            width: 100%;
        }
        .carousel-track {
            display: flex;
            transition: transform 0.5s cubic-bezier(0.6, 0, 0.4, 1);
        }
        .review-card {
            min-width: 100%;
            padding: 2rem;
            flex-shrink: 0;
        }
        html {
            scroll-behavior: smooth;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in-on-load {
            animation: fadeIn 1s ease-out forwards;
        }
        /* Media query to make the carousel a grid on medium screens and up */
        @media (min-width: 768px) {
            .review-card {
                min-width: unset; /* Override min-width for grid layout */
                flex-shrink: 1;
            }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Header & Navigation -->
    <header class="bg-white/95 backdrop-blur shadow-lg sticky top-0 z-50 border-b border-gray-100">
        <nav class="container mx-auto px-4 sm:px-8 py-4 flex justify-between items-center">
            <!-- Logo -->
            <a href="#" class="flex items-center space-x-3">
                <img src="images/Logo.png" alt="Al-Medina Pharmacy Logo" class="h-14 drop-shadow-lg rounded-lg">
            </a>
            <!-- Desktop Nav Links -->
            <div class="hidden md:flex items-center space-x-8">
                <a href="#home" class="text-gray-500 hover:text-blue-600 font-semibold transition duration-200 px-2 py-1 rounded hover:bg-blue-50">Home</a>
                <a href="#services" class="text-gray-500 hover:text-blue-600 font-semibold transition duration-200 px-2 py-1 rounded hover:bg-blue-50">Services</a>
                <a href="#products" class="text-gray-500 hover:text-blue-600 font-semibold transition duration-200 px-2 py-1 rounded hover:bg-blue-50">Products</a>
                <a href="#reviews" class="text-gray-500 hover:text-blue-600 font-semibold transition duration-200 px-2 py-1 rounded hover:bg-blue-50">Reviews</a>
                <a href="#contact" class="text-gray-500 hover:text-blue-600 font-semibold transition duration-200 px-2 py-1 rounded hover:bg-blue-50">Contact</a>
            </div>
            <!-- Call to Action Button -->
            <a href="tel:7189412669" class="hidden md:block bg-gradient-to-r from-blue-600 to-teal-500 text-white font-bold px-6 py-3 rounded-full shadow hover:from-blue-700 hover:to-teal-600 transition duration-200 transform hover:scale-105">
                <i class="fas fa-phone-alt mr-2"></i>Call Now
            </a>
            <!-- Mobile Menu Button -->
            <button id="mobile-menu-button" class="md:hidden text-blue-700 focus:outline-none">
                <i class="fas fa-bars text-3xl"></i>
            </button>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white/95 backdrop-blur shadow-inner pb-4 border-b border-gray-100">
            <a href="#home" class="block px-6 py-3 text-gray-600 hover:text-blue-600 transition duration-200 border-b border-gray-200">Home</a>
            <a href="#services" class="block px-6 py-3 text-gray-600 hover:text-blue-600 transition duration-200 border-b border-gray-200">Services</a>
            <a href="#products" class="block px-6 py-3 text-gray-600 hover:text-blue-600 transition duration-200 border-b border-gray-200">Products</a>
            <a href="#reviews" class="block px-6 py-3 text-gray-600 hover:text-blue-600 transition duration-200 border-b border-gray-200">Reviews</a>
            <a href="#contact" class="block px-6 py-3 text-gray-600 hover:text-blue-600 transition duration-200">Contact</a>
            <a href="tel:7189412669" class="block mt-4 mx-6 bg-gradient-to-r from-blue-600 to-teal-500 text-white text-center font-bold px-6 py-3 rounded-full hover:from-blue-700 hover:to-teal-600 transition duration-200 shadow-lg">Call Now</a>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section id="home" class="relative bg-gradient-to-br from-blue-600 to-teal-500 text-white py-28 md:py-40 overflow-hidden">
            <!-- Background Image with an onerror fallback -->
            <div class="absolute inset-0 bg-cover bg-center opacity-20" style="background-image: url('https://images.unsplash.com/photo-1576091160550-2173dba9996a?q=80&w=2070&auto=format&fit=crop');" onerror="this.style.backgroundImage='url(https://placehold.co/2070x1200/4B5563/E5E7EB?text=Background)';"></div>
            <div class="container mx-auto px-4 sm:px-8 text-center relative z-10">
                <h1 class="text-4xl md:text-6xl font-extrabold leading-tight mb-6 fade-in-on-load drop-shadow-lg">Your Trusted <span class="text-yellow-300">Health Partner</span> in Brooklyn</h1>
                <p class="text-lg md:text-2xl mb-10 max-w-2xl mx-auto opacity-90 fade-in-on-load">Providing personalized care, trusted advice, and quality products to our community with a smile. We proudly offer <span class="font-bold text-yellow-200">Free Home Delivery</span> on all prescriptions.</p>
                <a href="#contact" class="inline-block bg-white text-blue-700 font-bold py-4 px-10 rounded-full text-xl shadow-xl hover:bg-blue-50 transition duration-200 transform hover:scale-105 fade-in-on-load border-2 border-white">Get in Touch</a>
            </div>
            <div class="absolute bottom-0 left-0 right-0 w-full h-36 bg-gradient-to-t from-white/70 to-transparent pointer-events-none"></div>
        </section>

        <!-- Services Section -->
        <section id="services" class="py-24 bg-gradient-to-b from-gray-50 via-white to-gray-50">
            <div class="container mx-auto px-4 sm:px-8">
                <h2 class="text-3xl md:text-4xl font-extrabold text-center text-gray-900 mb-5 tracking-tight">Our Services</h2>
                <p class="text-center text-gray-600 mb-14 max-w-2xl mx-auto">More than just a pharmacy, we are a full-service health hub dedicated to your well-being.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                    <!-- Service Card 1: Free Home Delivery -->
                    <div class="bg-white rounded-2xl shadow-lg p-8 transform hover:-translate-y-2 hover:shadow-2xl transition duration-300 border border-blue-100 flex flex-col items-center text-center">
                        <i class="fas fa-shipping-fast text-5xl text-blue-600 mb-4"></i>
                        <h3 class="font-bold text-xl mb-2 text-blue-700">Free Home Delivery</h3>
                        <p class="text-gray-600 text-sm">Can't make it to the pharmacy? We offer free, fast, and reliable delivery for all your prescription needs right to your doorstep.</p>
                    </div>
                    <!-- Service Card 2: Medication Synchronization -->
                    <div class="bg-white rounded-2xl shadow-lg p-8 transform hover:-translate-y-2 hover:shadow-2xl transition duration-300 border border-blue-100 flex flex-col items-center text-center">
                        <i class="fas fa-sync-alt text-5xl text-blue-600 mb-4"></i>
                        <h3 class="font-bold text-xl mb-2 text-blue-700">Medication Synchronization</h3>
                        <p class="text-gray-600 text-sm">Simplify your life by getting all your prescriptions filled on the same day each month. We'll handle the refills and coordination for you.</p>
                    </div>
                    <!-- Service Card 3: Immunizations -->
                    <div class="bg-white rounded-2xl shadow-lg p-8 transform hover:-translate-y-2 hover:shadow-2xl transition duration-300 border border-blue-100 flex flex-col items-center text-center">
                        <i class="fas fa-syringe text-5xl text-blue-600 mb-4"></i>
                        <h3 class="font-bold text-xl mb-2 text-blue-700">Immunizations</h3>
                        <p class="text-gray-600 text-sm">Stay protected with our walk-in immunization services. We offer flu shots, shingles, pneumonia, and more, administered by certified pharmacists.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Products Section -->
        <section id="products" class="py-24 bg-gradient-to-b from-gray-50 via-white to-gray-50">
            <div class="container mx-auto px-4 sm:px-8">
                <h2 class="text-3xl md:text-4xl font-extrabold text-center text-gray-900 mb-5 tracking-tight">Our Products</h2>
                <p class="text-center text-gray-600 mb-14 max-w-2xl mx-auto">We offer a curated selection of health and wellness products to meet your every need.</p>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-10">
                    <!-- Product Card 1 -->
                    <div class="bg-white rounded-2xl shadow-lg overflow-hidden transform hover:-translate-y-2 hover:shadow-2xl transition duration-300 border border-blue-100">
                        <img src="https://images.unsplash.com/photo-1607619056574-7d8d3ee536b2?q=80&w=1910&auto=format&fit=crop" onerror="this.onerror=null;this.src='https://placehold.co/400x300/e0f2fe/0c4a6e?text=Vitamins+&amp;+Supplements';" alt="Vitamins & Supplements" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <h3 class="font-bold text-xl mb-2 text-blue-700">Vitamins & Supplements</h3>
                            <p class="text-gray-600 text-sm">Boost your health with our wide selection of dietary supplements.</p>
                        </div>
                    </div>
                    <!-- Product Card 2 -->
                    <div class="bg-white rounded-2xl shadow-lg overflow-hidden transform hover:-translate-y-2 hover:shadow-2xl transition duration-300 border border-blue-100">
                        <img src="https://images.unsplash.com/photo-1584515933487-779824d279f9?q=80&w=2070&auto=format&fit=crop" onerror="this.onerror=null;this.src='https://placehold.co/400x300/e0f2fe/0c4a6e?text=Prescription+Services';" alt="Prescription Medication" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <h3 class="font-bold text-xl mb-2 text-blue-700">Prescription Services</h3>
                            <p class="text-gray-600 text-sm">Fast, reliable, and friendly prescription filling services from our expert pharmacists.</p>
                        </div>
                    </div>
                    <!-- Product Card 3 -->
                    <div class="bg-white rounded-2xl shadow-lg overflow-hidden transform hover:-translate-y-2 hover:shadow-2xl transition duration-300 border border-blue-100">
                        <img src="https://images.unsplash.com/photo-1583947581926-2c2a8856bf6d?q=80&w=2070&auto=format&fit=crop" onerror="this.onerror=null;this.src='https://placehold.co/400x300/e0f2fe/0c4a6e?text=Personal+Care';" alt="Personal Care Products" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <h3 class="font-bold text-xl mb-2 text-blue-700">Personal Care</h3>
                            <p class="text-gray-600 text-sm">Find everything you need for your daily personal care and hygiene routine.</p>
                        </div>
                    </div>
                    <!-- Product Card 4 -->
                    <div class="bg-white rounded-2xl shadow-lg overflow-hidden transform hover:-translate-y-2 hover:shadow-2xl transition duration-300 border border-blue-100">
                        <img src="https://images.unsplash.com/photo-1603398938378-e54eab446dde?q=80&w=2070&auto=format&fit=crop" onerror="this.onerror=null;this.src='https://placehold.co/400x300/e0f2fe/0c4a6e?text=First+Aid';" alt="First Aid Supplies" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <h3 class="font-bold text-xl mb-2 text-blue-700">First Aid & Medical Supplies</h3>
                            <p class="text-gray-600 text-sm">Stock up on essential first aid supplies and home medical equipment.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Medication Q&A Assistant Section -->
        <section id="qna-assistant" class="py-24 bg-gradient-to-b from-gray-50 via-white to-gray-50">
            <div class="container mx-auto px-4 sm:px-8">
                <h2 class="text-3xl md:text-4xl font-extrabold text-center text-gray-900 mb-5">Medication Q&A Assistant</h2>
                <p class="text-center text-gray-600 mb-8 max-w-2xl mx-auto">Ask a question about a medication or general health topic. Please note that this assistant cannot provide medical advice or a diagnosis.</p>
                <div class="max-w-xl mx-auto bg-white p-8 rounded-2xl shadow-2xl border border-blue-100 flex flex-col h-[500px]">
                    <div id="chat-messages" class="flex-grow overflow-y-auto space-y-4 mb-4">
                        <!-- Initial bot message -->
                        <div class="flex justify-start">
                            <div class="bg-blue-100 text-blue-800 p-4 rounded-3xl rounded-bl-none max-w-[80%] shadow">
                                <span class="font-bold">Assistant:</span> Hello! I can help answer your questions about health and medications. How can I help you today?
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center gap-4">
                        <input type="text" id="chat-input" placeholder="Type your question here..." class="flex-grow p-4 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <button id="chat-send-btn" class="bg-gradient-to-r from-blue-600 to-teal-500 text-white font-bold w-12 h-12 rounded-full shadow hover:from-blue-700 hover:to-teal-600 transition duration-200 transform hover:scale-105">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Reviews Section with Carousel -->
        <section id="reviews" class="py-24 bg-gray-100">
            <div class="container mx-auto px-4 sm:px-8">
                <h2 class="text-3xl md:text-4xl font-extrabold text-center text-gray-900 mb-5">What Our Customers Say</h2>
                <p class="text-center text-gray-600 mb-14 max-w-2xl mx-auto">We are proud of the feedback we receive from our community.</p>
                <div class="relative max-w-3xl mx-auto overflow-hidden md:overflow-visible">
                    <div id="review-carousel" class="carousel-container rounded-2xl shadow-2xl border border-blue-100 bg-white">
                        <!-- Use a flexbox on mobile and switch to a grid on medium screens and up -->
                        <div class="carousel-track flex md:grid md:grid-cols-3 md:gap-8" id="carousel-track">
                            <!-- Review Card 1 -->
                            <div class="review-card bg-white rounded-2xl flex flex-col items-center text-center">
                                <i class="fas fa-user-circle text-5xl text-blue-200 mb-4"></i>
                                <div>
                                    <h4 class="font-bold text-lg text-blue-700 mb-1">John D.</h4>
                                    <div class="text-yellow-400 mb-2">
                                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                                    </div>
                                    <p class="text-gray-600 text-base">"The pharmacists here are incredibly helpful and knowledgeable. They always take the time to answer my questions. Highly recommended!"</p>
                                </div>
                            </div>
                            <!-- Review Card 2 -->
                            <div class="review-card bg-white rounded-2xl flex flex-col items-center text-center">
                                <i class="fas fa-user-circle text-5xl text-blue-200 mb-4"></i>
                                <div>
                                    <h4 class="font-bold text-lg text-blue-700 mb-1">Maria S.</h4>
                                    <div class="text-yellow-400 mb-2">
                                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i>
                                    </div>
                                    <p class="text-gray-600 text-base">"Excellent service and a great selection of products. It's so convenient having a reliable pharmacy right in the neighborhood."</p>
                                </div>
                            </div>
                            <!-- Review Card 3 -->
                            <div class="review-card bg-white rounded-2xl flex flex-col items-center text-center">
                                <i class="fas fa-user-circle text-5xl text-blue-200 mb-4"></i>
                                <div>
                                    <h4 class="font-bold text-lg text-blue-700 mb-1">David L.</h4>
                                    <div class="text-yellow-400 mb-2">
                                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                                    </div>
                                    <p class="text-gray-600 text-base">"Fast prescription fills and the staff is always friendly and professional. I wouldn't go anywhere else."</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Carousel Navigation - Hidden on larger screens -->
                    <button id="prev-btn" class="md:hidden absolute top-1/2 -left-8 md:-left-10 transform -translate-y-1/2 bg-white text-blue-600 border border-blue-200 p-3 rounded-full shadow-lg hover:bg-blue-100 hover:text-blue-700 transition duration-200 focus:outline-none" aria-label="Previous Review">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button id="next-btn" class="md:hidden absolute top-1/2 -right-8 md:-right-10 transform -translate-y-1/2 bg-white text-blue-600 border border-blue-200 p-3 rounded-full shadow-lg hover:bg-blue-100 hover:text-blue-700 transition duration-200 focus:outline-none" aria-label="Next Review">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Contact & Map Section -->
        <section id="contact" class="py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-8">
                <h2 class="text-3xl md:text-4xl font-extrabold text-center text-gray-900 mb-14">Find Us</h2>
                <div class="flex flex-col lg:flex-row gap-12">
                    <!-- Map -->
                    <div class="lg:w-2/3 w-full rounded-2xl overflow-hidden shadow-2xl border border-blue-100">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3028.188701967262!2d-73.9493922847324!3d40.62584587934148!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c258547d93f4f1%3A0x3a5b4e5e0a7d0f0d!2s1242%20Flatbush%20Ave%2C%20Brooklyn%2C%20NY%2011226!5e0!3m2!1sen!2sus!4v1689300708716!5m2!1sen!2sus"
                            width="100%" 
                            height="450" 
                            style="border:0;" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                    </div>
                    <!-- Contact Info -->
                    <div class="lg:w-1/3 w-full bg-gradient-to-br from-blue-600 to-teal-500 text-white p-10 rounded-2xl shadow-2xl flex flex-col justify-center border border-blue-100">
                        <h3 class="text-2xl font-bold mb-8">Contact Information</h3>
                        <div class="space-y-7">
                            <div class="flex items-start">
                                <i class="fas fa-map-marker-alt text-3xl mt-1 text-blue-200"></i>
                                <div class="ml-5">
                                    <h4 class="font-semibold text-lg">Address</h4>
                                    <p id="address-text" class="text-blue-50">1242 Flatbush Avenue<br>Brooklyn, NY 11226</p>
                                    <button onclick="copyAddress()" class="mt-2 text-sm text-yellow-300 font-medium hover:underline focus:outline-none">
                                        <i class="fas fa-copy mr-1"></i>Copy Address
                                    </button>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <i class="fas fa-phone-alt text-3xl mt-1 text-blue-200"></i>
                                <div class="ml-5">
                                    <h4 class="font-semibold text-lg">Phone</h4>
                                    <p class="text-blue-50"><a href="tel:7189412669" class="hover:underline">718-941-2669</a></p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <i class="fas fa-clock text-3xl mt-1 text-blue-200"></i>
                                <div class="ml-5">
                                    <h4 class="font-semibold text-lg">Hours</h4>
                                    <p class="text-blue-50">Mon - Fri: 10:00 AM - 7:00 PM</p>
                                    <p class="text-blue-50">Saturday: 10:00 AM - 6:00 PM</p>
                                    <p class="text-blue-50">Sunday: Closed</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <i class="fas fa-envelope text-3xl mt-1 text-blue-200"></i>
                                <div class="ml-5">
                                    <h4 class="font-semibold text-lg">Email</h4>
                                    <p class="text-blue-50"><a href="mailto:info@almedinapharmacy.com" class="hover:underline">info@almedinapharmacy.com</a></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-blue-900 text-white py-10 mt-10">
        <div class="container mx-auto px-4 sm:px-8 flex flex-col md:flex-row justify-between items-center gap-4 md:gap-0">
            <div>
                <p class="text-gray-300">&copy; 2025 Al-Medina Pharmacy, Inc. All Rights Reserved.</p>
                <p class="text-sm text-blue-200 mt-1">Website designed with care.</p>
            </div>
            <div class="flex gap-4">
                <a href="https://maps.app.goo.gl/YTcgbzZyRankVuQ78" target="_blank" aria-label="Google Maps"><i class="fas fa-map-marker-alt text-2xl hover:text-yellow-300"></i></a>
                <a href="tel:7189412669" aria-label="Phone"><i class="fas fa-phone-alt text-2xl hover:text-yellow-300"></i></a>
                <a href="mailto:info@almedinapharmacy.com" aria-label="Email"><i class="fas fa-envelope text-2xl hover:text-yellow-300"></i></a>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Mobile menu toggle
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            // Close mobile menu when a link is clicked
            const mobileMenuLinks = mobileMenu.querySelectorAll('a');
            mobileMenuLinks.forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.add('hidden');
                });
            });

            // Reviews Carousel
            const carouselTrack = document.getElementById('carousel-track');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const cards = document.querySelectorAll('.review-card');

            let currentIndex = 0;

            function updateCarousel() {
                // Only update carousel transform on mobile screens
                if (window.innerWidth < 768) {
                    carouselTrack.style.transform = `translateX(-${currentIndex * 100}%)`;
                } else {
                    carouselTrack.style.transform = `translateX(0)`;
                }
            }

            // Call updateCarousel initially and on window resize
            window.addEventListener('resize', updateCarousel);
            updateCarousel(); // Initial call

            nextBtn.addEventListener('click', () => {
                currentIndex = (currentIndex + 1) % cards.length;
                updateCarousel();
            });

            prevBtn.addEventListener('click', () => {
                currentIndex = (currentIndex - 1 + cards.length) % cards.length;
                updateCarousel();
            });

            // Optionally auto-slide every 6s, only on mobile
            let autoSlideInterval = null;
            function startAutoSlide() {
                if (window.innerWidth < 768 && !autoSlideInterval) {
                    autoSlideInterval = setInterval(() => {
                        currentIndex = (currentIndex + 1) % cards.length;
                        updateCarousel();
                    }, 6000);
                }
            }
            function stopAutoSlide() {
                if (autoSlideInterval) {
                    clearInterval(autoSlideInterval);
                    autoSlideInterval = null;
                }
            }
            window.addEventListener('resize', () => {
                stopAutoSlide();
                startAutoSlide();
            });
            startAutoSlide(); // Initial start


            // Function to copy address to clipboard
            function copyAddress() {
                const address = document.getElementById('address-text').innerText.replace(/\n/g, ' ').trim();
                const tempInput = document.createElement('textarea');
                tempInput.value = address;
                document.body.appendChild(tempInput);
                tempInput.select();
                document.execCommand('copy');
                document.body.removeChild(tempInput);
                // Provide feedback to the user, for example, a temporary message
                const copyBtn = document.querySelector('#contact .space-y-7 button');
                const originalText = copyBtn.innerHTML;
                copyBtn.innerHTML = '<i class="fas fa-check mr-1"></i>Copied!';
                setTimeout(() => {
                    copyBtn.innerHTML = originalText;
                }, 2000);
            }

            // Attach the function to the button's onclick event
            document.querySelector('#contact .space-y-7 button').onclick = copyAddress;
            
            // Medication Q&A Assistant Logic
            const chatInput = document.getElementById('chat-input');
            const chatSendBtn = document.getElementById('chat-send-btn');
            const chatMessages = document.getElementById('chat-messages');

            chatSendBtn.addEventListener('click', sendMessage);
            chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });

            async function sendMessage() {
                const userMessage = chatInput.value.trim();
                if (userMessage === '') return;

                // Add user message to chat
                const userMessageHtml = `
                    <div class="flex justify-end">
                        <div class="bg-blue-600 text-white p-4 rounded-3xl rounded-br-none max-w-[80%] shadow">
                            ${userMessage}
                        </div>
                    </div>
                `;
                chatMessages.innerHTML += userMessageHtml;
                chatInput.value = '';
                chatMessages.scrollTop = chatMessages.scrollHeight;

                // Show loading indicator for bot response
                const loadingHtml = `
                    <div id="bot-loading" class="flex justify-start">
                        <div class="bg-blue-100 text-blue-800 p-4 rounded-3xl rounded-bl-none max-w-[80%] shadow">
                            <div class="animate-pulse">...</div>
                        </div>
                    </div>
                `;
                chatMessages.innerHTML += loadingHtml;
                chatMessages.scrollTop = chatMessages.scrollHeight;

                let retryCount = 0;
                const maxRetries = 3;
                const baseDelay = 1000;

                const getBotResponse = async () => {
                    const systemPrompt = `You are a helpful and friendly pharmacy assistant. You provide general health and wellness information based on public knowledge.
                    You are explicitly NOT a doctor and cannot provide medical advice, diagnosis, or prescribe treatment. If asked for a diagnosis or treatment,
                    you must politely state that you cannot give medical advice and recommend consulting a healthcare professional. Always maintain a helpful, encouraging, and informative tone.
                    If the user asks for a recommendation about a medication, tell them to consult their doctor or pharmacist.`;
                    
                    const payload = {
                        contents: [{ parts: [{ text: userMessage }] }],
                        systemInstruction: { parts: [{ text: systemPrompt }] },
                    };
                    const apiKey = "AIzaSyB0UNOY4-MbMWQZu8IQCZAjXiRdYWbiaxY"; // Leave as empty string
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                    try {
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (!response.ok) {
                            if (response.status === 429 && retryCount < maxRetries) {
                                retryCount++;
                                const delay = baseDelay * Math.pow(2, retryCount);
                                await new Promise(resolve => setTimeout(resolve, delay));
                                return getBotResponse();
                            } else {
                                throw new Error(`API error: ${response.statusText}`);
                            }
                        }

                        const result = await response.json();
                        const botResponseText = result.candidates?.[0]?.content?.parts?.[0]?.text || "Sorry, I couldn't process that request. Please try again.";
                        
                        const botMessageHtml = `
                            <div class="flex justify-start">
                                <div class="bg-blue-100 text-blue-800 p-4 rounded-3xl rounded-bl-none max-w-[80%] shadow">
                                    <span class="font-bold">Assistant:</span> ${botResponseText}
                                </div>
                            </div>
                        `;
                        
                        // Remove loading indicator and add bot's response
                        document.getElementById('bot-loading').remove();
                        chatMessages.innerHTML += botMessageHtml;
                        chatMessages.scrollTop = chatMessages.scrollHeight;

                    } catch (error) {
                        document.getElementById('bot-loading')?.remove();
                        const errorHtml = `
                            <div class="flex justify-start">
                                <div class="bg-red-100 text-red-800 p-4 rounded-3xl rounded-bl-none max-w-[80%] shadow">
                                    <span class="font-bold">Assistant:</span> There was an error: ${error.message}
                                </div>
                            </div>
                        `;
                        chatMessages.innerHTML += errorHtml;
                        chatMessages.scrollTop = chatMessages.scrollHeight;
                    }
                };
                getBotResponse();
            }
        });
    </script>
</body>
</html>
